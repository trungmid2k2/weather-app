(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2015:function(e,s,i){Promise.resolve().then(i.bind(i,6521))},6521:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return k}});var l=i(3827),t=i(7807);let n=(0,t.cn)("VietNam");(0,t.cn)(!1);var a=i(8757),c=i(4090),d=i(2840),r=i(784);function x(){let[e,s]=(0,c.useState)(""),[i,t]=(0,a.KO)(n);async function x(e){if(s(e),e.length>3)try{await fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&appid=").concat("83b3dffb0a95a7ce82c961e567c2ea18","&cnt=56"))}catch(e){console.log(e)}}return(0,l.jsxs)("div",{className:"flex justify-between items-center gap-2",children:[(0,l.jsx)("div",{className:"sm:block hidden",children:(0,l.jsx)(r.x$F,{className:"text-gray-400 text-2xl"})}),(0,l.jsx)("div",{className:"sm:block hidden",children:(0,l.jsx)(r.NK0,{className:" text-3xl"})}),(0,l.jsx)("div",{className:"capitalize",children:i}),(0,l.jsx)("div",{children:(0,l.jsxs)("form",{className:"flex items-center h-10 ",onSubmit:s=>{s.preventDefault(),setTimeout(()=>{t(e)},500)},children:[(0,l.jsx)("input",{value:e,onChange:e=>x(e.target.value),className:"border border-gray-300 rounded-1-sm focus:outline-none focus:border-blue-500 w-[230px] px-4 py-2 h-full",type:"text",placeholder:"Search country not city.."}),(0,l.jsx)("button",{className:"px-4 py-[9px] bg-blue-500 text-white rounded-r-md focus:outline-none hover:bg-blue-600  h-full",children:(0,l.jsx)(d.eaK,{})})]})})]})}var o=i(6173),u=i(1040),m=i(1709);function h(e){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p,{icon:(0,l.jsx)(m.Lr9,{}),infor:"Visability",value:e.visability}),(0,l.jsx)(p,{icon:(0,l.jsx)(o.YF6,{}),infor:"Humidity",value:e.humidity}),(0,l.jsx)(p,{icon:(0,l.jsx)(r.RGM,{}),infor:"WindSpeed",value:e.windSpeed}),(0,l.jsx)(p,{icon:(0,l.jsx)(u.Pdk,{}),infor:"Air Pressure",value:e.airPressure}),(0,l.jsx)(p,{icon:(0,l.jsx)(m.pMX,{}),infor:"Sunrise",value:e.sunrise}),(0,l.jsx)(p,{icon:(0,l.jsx)(m.UwN,{}),infor:"Sunset",value:e.sunset})]})}let p=e=>(0,l.jsxs)("div",{className:"flex justify-between flex-col items-center text-xs px-6 py-4",children:[(0,l.jsx)("div",{children:e.infor}),(0,l.jsx)("div",{className:"text-3xl",children:e.icon}),(0,l.jsx)("div",{children:e.value})]});var v=i(703);function f(e){return(0,l.jsx)("div",{className:"h-20 w-20",children:(0,l.jsx)(v.default,{width:100,height:100,src:"https://openweathermap.org/img/wn/".concat(e.iconName,"@4x.png"),alt:"weather icon",className:"w-full h-full"})})}function j(e){return Math.floor(e-273.15)}function w(e){return(0,l.jsxs)("div",{className:"w-full flex bg-white rounded-xl my-3 gap-4",children:[(0,l.jsxs)("div",{className:"flex gap-4 items-center py-4  ",children:[(0,l.jsxs)("div",{className:"flex items-center flex-col justify-center px-4",children:[(0,l.jsx)(f,{iconName:e.weatehrIcon}),(0,l.jsx)("p",{children:e.date}),(0,l.jsxs)("p",{className:"text-xs",children:[" ",null==e?void 0:e.day]})]}),(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center w-[84px]",children:[(0,l.jsxs)("div",{className:"text-5xl",children:[j(e.temp),"\xb0"]}),(0,l.jsxs)("p",{className:"text-xs space-x-1 whitespace-nowrap  ",children:[(0,l.jsx)("span",{children:"Feels like"}),(0,l.jsxs)("span",{children:[j(e.feels_like),"\xb0"]})]}),(0,l.jsx)("div",{className:"capitalize text-center",children:e.description})]})]}),(0,l.jsx)("div",{className:"flex justify-between w-full overflow-x-auto",children:(0,l.jsx)(h,{...e})})]})}var N=i(4227),y=i(1825),b=i(3753);function g(e){var s,i,t,n,a,d,r,x,o,u;let[m,p]=(0,c.useState)(!1),v=null==e?void 0:e.list[0];return(0,l.jsxs)("div",{className:"space-y-4 ",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"flex items-center text-2xl gap-1",children:[(0,N.p6)((0,y.D)(null!==(s=null==v?void 0:v.dt_txt)&&void 0!==s?s:""),"EEEE"),(0,l.jsxs)("p",{className:"text-lg",children:["(",(0,N.p6)((0,y.D)(null!==(i=null==v?void 0:v.dt_txt)&&void 0!==i?i:""),"dd.MM.yyyy"),")"]})]}),(0,l.jsxs)("div",{className:"w-full flex border rounded-xl px-6 bg-white gap-10 py-4 mt-2",children:[(0,l.jsxs)("div",{className:"flex flex-col px-4 items-center justify-center",children:[(0,l.jsxs)("div",{className:"text-5xl",children:[j(null!==(t=v.main.temp)&&void 0!==t?t:296.37),"\xb0"]}),(0,l.jsxs)("p",{className:"text-xs space-x-1 whitespace-nowrap  ",children:[(0,l.jsx)("span",{children:"Feels like"}),(0,l.jsxs)("span",{children:[j(null!==(n=v.main.feels_like)&&void 0!==n?n:296.37),"\xb0"]})]}),(0,l.jsxs)("div",{className:"text-xs space-x-2",children:[(0,l.jsxs)("span",{children:[j(null!==(a=v.main.temp_min)&&void 0!==a?a:296.37),"\xb0↓"]}),(0,l.jsxs)("span",{children:[j(null!==(d=v.main.temp_max)&&void 0!==d?d:296.37),"\xb0↑"]})]})]}),(0,l.jsx)("div",{className:"flex gap-10 sm:gap-16 overflow-x-auto w-full justify-between pr-3",children:null==e?void 0:e.list.map((e,s)=>{var i;return(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center ",children:[(0,l.jsx)("div",{className:" whitespace-nowrap",children:(0,N.p6)((0,y.D)(null==e?void 0:e.dt_txt),"h:mm a")}),(0,l.jsxs)("div",{className:"relative capitalize group",children:[(0,l.jsx)(f,{iconName:e.weather[0].icon}),(0,l.jsx)("div",{className:"absolute hidden text-[9px] text-white bg-[#48474c] capitalize top-[70%] right-0 group-hover:block ",children:e.weather[0].description})]}),(0,l.jsxs)("div",{children:[j(null!==(i=e.main.temp)&&void 0!==i?i:296.37),"\xb0 "]})]},s)})})]})]}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsxs)("div",{className:"flex justify-center items-center flex-col p-4 bg-white w-fit border rounded-xl",children:[(0,l.jsx)("div",{className:"capitalize text-center",children:v.weather[0].description}),(0,l.jsx)("div",{children:(0,l.jsx)(f,{iconName:v.weather[0].icon})})]}),(0,l.jsx)("div",{className:"flex justify-between w-full bg-[#fbe46a] rounded-xl overflow-x-auto",children:(0,l.jsx)(h,{visability:v.visibility/1e3+" km",humidity:v.main.humidity+" %",windSpeed:(u=null!==(r=null==v?void 0:v.wind.speed)&&void 0!==r?r:1.64,"".concat((3.6*u).toFixed(0)," km/h")),airPressure:v.main.pressure+" hPa",sunrise:(0,N.WU)((0,b.K)(null!==(x=null==e?void 0:e.city.sunrise)&&void 0!==x?x:1702517657),"H:mm"),sunset:(0,N.WU)((0,b.K)(null!==(o=null==e?void 0:e.city.sunset)&&void 0!==o?o:111),"H:mm")})})]})]})}var _=i(5230);function k(){let[e,s]=(0,a.KO)(n),{isLoading:i,error:t,data:d,refetch:o}=(0,_.useQuery)("repoData",async()=>fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&appid=").concat("83b3dffb0a95a7ce82c961e567c2ea18","&cnt=56")).then(e=>e.json()));if((0,c.useEffect)(()=>{o()},[e,o]),i)return(0,l.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,l.jsx)("p",{className:"animate-bounce",children:"Loading..."})});console.log("data=>",d);let u=[...new Set(null==d?void 0:d.list.map(e=>new Date(1e3*e.dt).toISOString().split("T")[0]))].map(e=>null==d?void 0:d.list.find(s=>{let i=new Date(1e3*s.dt).toISOString().split("T")[0],l=new Date(1e3*s.dt).getHours();return i===e&&l>=6}));return(0,l.jsxs)("div",{className:"bg-gray-100 min-h-screen",children:[(0,l.jsx)("div",{className:"bg-white ",children:(0,l.jsxs)("div",{className:" h-[80px] w-full sm:flex-row flex flex-col justify-between items-center max-w-7xl mx-auto px-3",children:[(0,l.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,l.jsx)("h2",{className:"text-3xl text-gray-500",children:"Weather"}),(0,l.jsx)(r.Wn6,{className:"text-3xl text-yellow-300"})]}),(0,l.jsx)(x,{})]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("main",{className:"max-w-7xl mx-auto px-3 pt-4 pb-10 mt-5",children:[(0,l.jsx)(g,{...d}),(0,l.jsx)("div",{className:"text-2xl my-5",children:"Forcast (7 days)"}),u.map((e,s)=>{var i,t,n,a,c,r,x,o,u,m,h;return(0,l.jsx)(w,{description:null!==(i=null==e?void 0:e.weather[0].description)&&void 0!==i?i:"",weatehrIcon:null!==(t=null==e?void 0:e.weather[0].icon)&&void 0!==t?t:"01d",date:e?(0,N.WU)((0,y.D)(e.dt_txt),"dd.MM"):"",day:e?(0,N.WU)((0,y.D)(e.dt_txt),"EEEE"):"",feels_like:null!==(n=null==e?void 0:e.main.feels_like)&&void 0!==n?n:0,temp:null!==(a=null==e?void 0:e.main.temp)&&void 0!==a?a:0,temp_max:null!==(c=null==e?void 0:e.main.temp_max)&&void 0!==c?c:0,temp_min:null!==(r=null==e?void 0:e.main.temp_min)&&void 0!==r?r:0,airPressure:"".concat(null==e?void 0:e.main.pressure," hPa "),humidity:"".concat(null==e?void 0:e.main.humidity,"% "),sunrise:(0,N.WU)((0,b.K)(null!==(x=null==d?void 0:d.city.sunrise)&&void 0!==x?x:1702517657),"H:mm"),sunset:(0,N.WU)((0,b.K)(null!==(o=null==d?void 0:d.city.sunset)&&void 0!==o?o:1702517657),"H:mm"),visability:"".concat((h=null!==(u=null==e?void 0:e.visibility)&&void 0!==u?u:1e4,"".concat((h/1e3).toFixed(0)," km"))," "),windSpeed:"".concat(null!==(m=null==e?void 0:e.wind.speed)&&void 0!==m?m:1.64,"  km/h")},s)})]})})]})}}},function(e){e.O(0,[51,212,706,280,956,230,525,971,69,744],function(){return e(e.s=2015)}),_N_E=e.O()}]);